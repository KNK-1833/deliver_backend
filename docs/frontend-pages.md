# フロントエンドページ機能仕様書

## 1. 認証関連ページ

### ログインページ (`/login`)
**コンポーネント**: `Login.tsx`

#### 機能概要
- ユーザーがシステムにログインするためのページ
- メールアドレスとパスワードによる認証

#### 主要機能
- **フォーム入力**
  - メールアドレス入力（必須、メール形式バリデーション）
  - パスワード入力（必須）
- **エラー処理**
  - 認証失敗時のエラーメッセージ表示
  - リアルタイムバリデーション
- **ナビゲーション**
  - ログイン成功後、ダッシュボードへ自動遷移
  - 新規登録ページへのリンク

#### 使用技術
- react-hook-form + zod によるフォームバリデーション
- JWT認証（SimpleJWT）
- shadcn/ui コンポーネント

---

### 新規登録ページ (`/register`)
**コンポーネント**: `Register.tsx`

#### 機能概要
- 新規ユーザーアカウントの作成
- ドライバーまたは事業者として登録

#### 主要機能
- **ユーザー情報入力**
  - ユーザー名（必須）
  - メールアドレス（必須、重複チェック）
  - パスワード（必須、確認入力あり）
  - ユーザータイプ選択（ドライバー/事業者）
- **ドライバー専用情報**（ドライバー選択時のみ）
  - 車両タイプ
  - 車両番号
  - 電話番号
- **自動ログイン**
  - 登録成功後、自動的にログイン処理
  - ダッシュボードへ遷移

---

## 2. ダッシュボード

### メインダッシュボード (`/dashboard`)
**コンポーネント**: `Dashboard.tsx`

#### 機能概要
- ユーザータイプに応じた情報の表示とクイックアクセス
- 活動状況の可視化

#### 主要機能

##### 共通機能
- **ウェルカムメッセージ**
  - ユーザー名表示
  - ユーザータイプバッジ（ドライバー/事業者）
  - ドライバーの稼働状況表示
- **活動統計**
  - 過去30日間の活動サマリー
  - 完了案件数/作成済み依頼数
  - 成功率
  - 平均配送時間

##### 事業者向け機能
- **クイックアクション**
  - 配送依頼作成ボタン
  - ファイルアップロードボタン
  - 配送依頼一覧へのリンク

##### ドライバー向け機能
- **クイックアクション**
  - 案件検索ボタン
  - マイアサインボタン
  - プロフィール設定ボタン
- **稼働状況表示**
  - 稼働中/休憩中のステータス
  - 車両タイプ

---

## 3. 配送管理機能（事業者向け）

### 配送依頼一覧 (`/delivery-requests`)
**コンポーネント**: `DeliveryRequests.tsx`

#### 機能概要
- 作成した配送依頼の一覧表示と管理

#### 主要機能
- **一覧表示**
  - カード形式での配送依頼表示
  - ステータス別のビジュアル表示（受付中/アサイン済み/配送中/完了/キャンセル）
  - 配送元・配送先情報の表示
  - 希望日時と料金の表示
- **フィルタリング・検索**（※実装予定）
  - ステータス別フィルタ
  - 日付範囲フィルタ
- **アクション**
  - ドライバーアサイン（受付中の依頼のみ）
  - 編集
  - 削除（確認ダイアログ付き）
- **詳細表示**
  - 担当ドライバー情報（アサイン済みの場合）

---

### 配送依頼作成フォーム (`/delivery-requests/new`)
**コンポーネント**: `DeliveryRequestForm.tsx`

#### 機能概要
- 新規配送依頼の作成
- OCR抽出データの自動入力対応

#### 主要機能
- **基本情報入力**
  - 配送依頼名（必須）
  - 説明（任意）
- **配送元情報**
  - 担当者名（必須）
  - 電話番号（必須）
  - 住所（必須）
- **配送先情報**
  - 担当者名（必須）
  - 電話番号（必須）
  - 住所（必須）
- **荷物情報**
  - 荷物名（必須）
  - 数量（必須、最小値1）
  - 重量（任意、kg単位）
  - サイズ（小/中/大から選択）
- **配送情報**
  - 配送希望日（必須）
  - 配送希望時間（任意）
  - 希望料金（任意）
  - 特記事項（任意）
- **OCRデータ連携**
  - ファイルアップロードページから抽出データを自動入力

---

### ファイルアップロード (`/file-upload`)
**コンポーネント**: `FileUpload.tsx`

#### 機能概要
- 帳票ファイルのアップロードとAI処理
- 抽出データから配送依頼の自動作成

#### 主要機能
- **ファイルアップロード**
  - ドラッグ&ドロップ対応
  - 対応形式: JPG, PNG, PDF
  - ファイルサイズ制限: 10MB
- **アップロード履歴**
  - アップロード済みファイル一覧
  - 処理ステータス表示（処理中/完了/エラー）
  - サムネイル表示（画像ファイル）
- **AI処理**
  - Claude APIによる帳票OCR
  - 構造化データの抽出
- **配送依頼作成**
  - 抽出データから配送依頼フォームへ自動入力
  - データ確認・編集後に作成

---

## 4. 配送案件管理（ドライバー向け）

### 案件一覧 (`/available-requests`)
**コンポーネント**: `AvailableRequests.tsx`

#### 機能概要
- 受付中の配送案件の検索と受諾

#### 主要機能
- **案件表示**
  - 受付中ステータスの案件のみ表示
  - カード形式での情報表示
  - 配送ルート（配送元→配送先）
  - 希望日時と報酬額
- **フィルタリング**（※実装予定）
  - エリア別フィルタ
  - 日付フィルタ
  - 報酬額範囲フィルタ
- **案件受諾**
  - ワンクリックで案件受諾
  - 受諾後、マイアサインページへ遷移

---

### マイアサイン (`/my-assignments`)
**コンポーネント**: `MyAssignments.tsx`

#### 機能概要
- 受諾した配送案件の管理と進捗更新

#### 主要機能
- **アサイン一覧**
  - 受諾済み案件の表示
  - ステータス別タブ（アサイン済み/配送中/完了）
- **ステータス更新**
  - 配送開始（アサイン済み→配送中）
  - 配送完了（配送中→完了）
  - キャンセル（緊急時のみ）
- **詳細情報表示**
  - 配送元・配送先の詳細
  - 連絡先情報
  - 特記事項
  - マップ表示（※実装予定）

---

## 5. 管理者機能（Seedユーザー向け）

### Seedダッシュボード (`/dashboard` ※seedユーザーの場合)
**コンポーネント**: `SeedDashboard.tsx`

#### 機能概要
- システム全体の管理と監視

#### 主要機能
- **システム統計**
  - 総配送依頼数
  - アクティブドライバー数
  - 今月の配送完了数
  - 平均配送時間
- **管理メニュー**
  - 案件管理
  - ドライバー管理
  - ファイル管理

---

### 案件管理 (`/seed/requests`)
**コンポーネント**: `SeedRequestManagement.tsx`

#### 機能概要
- 全配送依頼の管理と監視

#### 主要機能
- **全案件表示**
  - すべての事業者の配送依頼を表示
  - 詳細フィルタリング機能
- **管理アクション**
  - 強制ステータス変更
  - ドライバー再アサイン
  - 案件削除
- **分析機能**
  - 事業者別統計
  - ステータス別分布

---

### ドライバー管理 (`/seed/drivers`)
**コンポーネント**: `SeedDriverManagement.tsx`

#### 機能概要
- 登録ドライバーの管理

#### 主要機能
- **ドライバー一覧**
  - 全ドライバー情報表示
  - 稼働状況確認
  - パフォーマンス指標
- **管理アクション**
  - アカウント有効化/無効化
  - プロフィール編集
  - パフォーマンス履歴確認

---

### ファイル管理 (`/seed/files`)
**コンポーネント**: `SeedFileManagement.tsx`

#### 機能概要
- アップロードファイルの管理

#### 主要機能
- **ファイル一覧**
  - 全アップロードファイルの表示
  - 処理ステータス確認
  - 関連配送依頼へのリンク
- **管理アクション**
  - ファイル削除
  - 再処理実行
  - 処理結果の確認

---

## 共通コンポーネント

### レイアウト
**コンポーネント**: `Layout.tsx`, `Header.tsx`

#### ヘッダー機能
- **ナビゲーション**
  - ユーザータイプ別メニュー表示
  - アクティブページのハイライト
  - モバイル対応ハンバーガーメニュー
- **ユーザー情報**
  - ユーザー名とタイプ表示
  - ドロップダウンメニュー
  - ログアウト機能

### 認証保護
**コンポーネント**: `ProtectedRoute.tsx`

#### 機能
- 未認証ユーザーのアクセス制限
- ユーザータイプ別のルート制限
- 自動ログインページへのリダイレクト

---

## 技術スタック

### UI/UXフレームワーク
- **React 19.1.1**: UIライブラリ
- **TypeScript**: 型安全性
- **shadcn/ui**: UIコンポーネントライブラリ
- **Tailwind CSS**: スタイリング
- **lucide-react**: アイコンライブラリ

### 状態管理
- **Zustand**: グローバル状態管理
- **react-hook-form**: フォーム状態管理
- **zod**: スキーマバリデーション

### ルーティング
- **React Router v7**: SPAルーティング

### API通信
- **Axios**: HTTP通信
- **JWT**: 認証トークン管理

---

## アクセシビリティ対応

- キーボードナビゲーション対応
- スクリーンリーダー対応のARIAラベル
- 適切なカラーコントラスト
- レスポンシブデザイン（モバイル/タブレット/デスクトップ）
- フォーカス管理とビジュアルインジケーター